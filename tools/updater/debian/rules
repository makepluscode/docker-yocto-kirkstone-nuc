#!/usr/bin/make -f

# Debian packaging rules for rauc-updater

%:
	dh $@ --with python3 --buildsystem=pybuild

override_dh_auto_configure:
	# Use uv for dependency resolution if available, otherwise fallback to pip
	dh_auto_configure

override_dh_auto_build:
	# Build the package using standard Python build
	python3 setup.py build

override_dh_auto_install:
	python3 setup.py install --root=$(CURDIR)/debian/rauc-updater --install-layout=deb

override_dh_auto_test:
	# Skip tests during packaging (can be enabled later)
	# python3 -m pytest tests/

override_dh_installdocs:
	dh_installdocs README.md

override_dh_installchangelogs:
	# Install changelog if available
	dh_installchangelogs